window.Flourish={external:true};window.FlourishConfig={public_url:"https://public.flourish.rocks/"},function(){"use strict";!function(){function t(){if(!window.FlourishLoaded){window.FlourishLoaded=!0;var t,e=window.Flourish&&window.Flourish.external,r=Array.prototype.slice.call(document.querySelectorAll(".flourish-embed"));if(!e){for(var i=document.querySelectorAll("script"),o=0;o<i.length;o++){var a=i[o];if(a.src&&a.src.match(/(?:\.flourish\.(?:rocks|studio)|(?:localhost|flourish\.local)(?::\d+)?)\//g)&&a.src.match(/\/embed\.js$/)){if(!t){var n=a.getAttribute("src");t=n.substr(0,n.lastIndexOf("/resources"))+"/"}if(a.getAttribute("data-src")){var s=document.createElement("div");s.setAttribute("class","flourish-embed"),s.setAttribute("data-src",a.getAttribute("data-src")),a.getAttribute("data-height")&&s.setAttribute("data-height",a.getAttribute("data-height")),a.getAttribute("data-width")&&s.setAttribute("data-width",a.getAttribute("data-width")),a.parentNode.insertBefore(s,a),r.push(s)}}}if(!t)return void console.error("Flourish: could not embed, because could not find script")}if(!r.length)return void console.warn("Flourish: could not find anything to embed");for(var d=[],o=0;o<r.length;o++){var u,l,c,h=r[o],m=h.getAttribute("data-src");if(m){e?(u=m,l=window.FlourishConfig.public_url+"?utm_source=embed&utm_campaign="+m):(c=0===m.indexOf("template/"),u=t+m+(c?"/preview":"/embed"),l=t+m+"?utm_source=showcase&utm_campaign="+m);var g=h.getAttribute("data-width"),p=h.getAttribute("data-height");p||(u+="?auto=1");var b=document.createElement("iframe");if(b.setAttribute("scrolling","no"),b.setAttribute("frameborder","0"),b.setAttribute("src",u),h.appendChild(b),!c){var f=document.createElement("div");f.setAttribute("style","width:100%!important;margin-top:4px!important;text-align:right!important;");var w=document.createElement("a");w.setAttribute("class","flourish-credit"),w.setAttribute("href",l),w.setAttribute("target","_top"),w.setAttribute("style","text-decoration:none!important");var A=document.createElement("img");A.setAttribute("alt","Made with Flourish"),A.setAttribute("src",window.FlourishConfig.public_url+"resources/made_with_flourish.svg"),A.setAttribute("style","width:105px!important;height:16px!important;border:none!important;margin:0!important;"),w.appendChild(A),f.appendChild(w),h.appendChild(f)}b.style.width=g||"100%",p?("%"===p.charAt(p.length-1)&&(p=parseFloat(p)/100*h.parentNode.offsetHeight+"px"),b.style.height=p):d.push(b)}}d.length&&window.addEventListener("message",function(t){if(t.origin===document.location.origin||t.origin.match(/\/\/localhost:\d+$|\.flourish\.(?:local(:\d+)?|rocks|studio)$/)){var e;try{e=JSON.parse(t.data)}catch(e){throw new Error("Unexpected non-JSON message: "+JSON.stringify(t.data))}"Flourish"===e.sender&&"resize"===e.method&&d.forEach(function(r){r.contentWindow!==t.source&&r.contentWindow!==t.source.parent||(r.style.height=e.height)})}})}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}()}();
//# sourceMappingURL=embed.js.map
